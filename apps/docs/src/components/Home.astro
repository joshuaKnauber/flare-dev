---
const scriptSnippet = `<span class="dim">&lt;!-- Add to your HTML --&gt;</span>
&lt;script src=<span class="str">"https://unpkg.com/flare-dev/dist/flare.js"</span>&gt;&lt;/script&gt;`;
---

<div class="page">
  <main>
    <svg class="icon" viewBox="100 95 315 325" width="40" height="40" fill="none" overflow="visible">
      <path d="M268.585 309.261C268.585 320.923 265.129 332.322 258.655 342.018C252.181 351.714 242.979 359.271 232.213 363.733C221.447 368.196 209.6 369.363 198.171 367.088C186.742 364.813 176.243 359.198 168.003 350.952C159.763 342.707 154.152 332.201 151.878 320.764C149.605 309.327 150.772 297.472 155.231 286.699C159.691 275.925 167.242 266.717 176.932 260.238C186.621 253.76 198.012 250.302 209.665 250.302C225.292 250.302 240.278 256.514 251.328 267.571C262.377 278.628 268.585 293.624 268.585 309.261Z" fill="currentColor"/>
      <path d="M267.995 367.632C252.525 383.112 231.543 391.809 209.665 391.809C187.787 391.809 166.805 383.112 151.335 367.632C135.865 352.151 127.174 331.154 127.174 309.261C127.174 287.368 135.865 266.372 151.335 250.891L273.224 128.933C274.319 127.838 275.188 126.537 275.78 125.106C276.373 123.674 276.678 122.14 276.678 120.59C276.678 119.041 276.373 117.507 275.78 116.075C275.188 114.644 274.319 113.343 273.224 112.248C272.13 111.152 270.83 110.283 269.399 109.69C267.969 109.097 266.436 108.792 264.887 108.792C263.339 108.792 261.806 109.097 260.375 109.69C258.945 110.283 257.645 111.152 256.55 112.248L134.676 234.22C124.696 244.046 116.759 255.751 111.323 268.661C105.886 281.571 103.058 295.431 103.001 309.44C102.944 323.45 105.659 337.332 110.991 350.286C116.322 363.24 124.163 375.01 134.063 384.916C143.962 394.822 155.724 402.669 168.669 408.004C181.614 413.339 195.487 416.056 209.486 415.999C223.486 415.942 237.336 413.112 250.238 407.672C263.139 402.231 274.836 394.289 284.655 384.302C286.771 382.073 287.934 379.104 287.895 376.029C287.855 372.955 286.617 370.017 284.444 367.842C282.271 365.668 279.335 364.429 276.263 364.389C273.19 364.35 270.223 365.513 267.995 367.632Z" fill="currentColor"/>
      <path class="trail t1" d="M378.086 253.751L307.383 324.503C305.172 326.715 303.93 329.716 303.93 332.845C303.93 335.974 305.172 338.975 307.383 341.188C309.594 343.401 312.593 344.644 315.72 344.644C318.847 344.644 321.846 343.401 324.057 341.188L394.76 270.436C395.855 269.341 396.723 268.04 397.316 266.609C397.908 265.177 398.213 263.643 398.213 262.094C398.213 260.544 397.908 259.01 397.316 257.579C396.723 256.147 395.855 254.846 394.76 253.751C393.665 252.655 392.366 251.786 390.935 251.193C389.505 250.6 387.971 250.295 386.423 250.295C384.875 250.295 383.342 250.6 381.911 251.193C380.481 251.786 379.181 252.655 378.086 253.751Z" fill="currentColor"/>
      <path class="trail t2" d="M347.625 235.061C348.72 233.965 349.588 232.664 350.181 231.233C350.773 229.801 351.078 228.267 351.078 226.718C351.078 225.168 350.773 223.634 350.181 222.203C349.588 220.771 348.72 219.471 347.625 218.375C346.53 217.279 345.23 216.41 343.8 215.817C342.369 215.225 340.836 214.919 339.288 214.919C337.739 214.919 336.206 215.225 334.776 215.817C333.345 216.41 332.045 217.279 330.951 218.375L295.599 253.751C293.388 255.964 292.146 258.965 292.146 262.094C292.146 265.223 293.388 268.224 295.599 270.436C297.81 272.649 300.809 273.892 303.936 273.892C307.063 273.892 310.062 272.649 312.273 270.436L347.625 235.061Z" fill="currentColor"/>
      <path class="trail t3" d="M406.544 159.415C405.45 158.319 404.15 157.449 402.719 156.856C401.289 156.262 399.755 155.957 398.207 155.957C396.658 155.957 395.125 156.262 393.694 156.856C392.264 157.449 390.964 158.319 389.87 159.415L366.302 182.999C364.091 185.212 362.849 188.213 362.849 191.342C362.849 194.471 364.091 197.472 366.302 199.685C368.513 201.897 371.512 203.141 374.639 203.141C377.766 203.141 380.765 201.897 382.976 199.685L406.544 176.101C407.64 175.006 408.509 173.705 409.102 172.274C409.695 170.842 410 169.308 410 167.758C410 166.209 409.695 164.674 409.102 163.243C408.509 161.811 407.64 160.511 406.544 159.415Z" fill="currentColor"/>
      <path class="trail t4" d="M248.464 223.269C249.558 224.365 250.858 225.235 252.288 225.828C253.719 226.422 255.252 226.727 256.801 226.727C258.349 226.727 259.883 226.422 261.313 225.828C262.744 225.235 264.043 224.365 265.138 223.269L371.192 117.141C372.287 116.046 373.156 114.745 373.748 113.314C374.341 111.882 374.646 110.348 374.646 108.798C374.646 107.249 374.341 105.715 373.748 104.283C373.156 102.852 372.287 101.551 371.192 100.456C370.098 99.3601 368.798 98.491 367.367 97.8981C365.937 97.3052 364.404 97 362.855 97C361.307 97 359.774 97.3052 358.343 97.8981C356.913 98.491 355.613 99.3601 354.518 100.456L248.464 206.583C247.368 207.678 246.499 208.979 245.906 210.41C245.313 211.842 245.008 213.376 245.008 214.926C245.008 216.476 245.313 218.01 245.906 219.442C246.499 220.873 247.368 222.174 248.464 223.269Z" fill="currentColor"/>
    </svg>
    <h1 class="text-pretty">Design in the browser with Flare.</h1>
    <p class="sub">A visual CSS editor for designers who ship with AI.</p>

    <section class="codeblock">
      <div class="cb-header">
        <div class="cb-tabs" role="tablist">
          <button class="cb-tab active plausible-event-name=Claude+Code" data-tab="claude" role="tab" aria-selected="true">Claude Code</button>
          <button class="cb-tab plausible-event-name=Script+Tag" data-tab="script" role="tab" aria-selected="false">Script Tag</button>
        </div>
        <button class="cb-copy plausible-event-name=Copy" aria-label="Copy to clipboard">
          <span class="copy-default">Copy</span>
          <span class="copy-done">Copied</span>
        </button>
      </div>
      <div class="cb-body">
        <div class="panel active" id="panel-claude">
          <pre>Add flare-dev as a dev dependency and set up the Vite plugin from flare-dev/vite.</pre>
        </div>
        <div class="panel" id="panel-script">
          <pre set:html={scriptSnippet} />
        </div>
      </div>
    </section>

    <div class="steps">
      <div class="step">
        <span class="num">1</span>
        <span class="txt">Edit visually</span>
      </div>
      <span class="arrow">&rarr;</span>
      <div class="step">
        <span class="num">2</span>
        <span class="txt">Copy prompt</span>
      </div>
      <span class="arrow">&rarr;</span>
      <div class="step">
        <span class="num">3</span>
        <span class="txt">Apply to source with claude</span>
      </div>
    </div>

    <div class="links">
      <a href="https://github.com/joshuaKnauber/flare-dev" class="social plausible-event-name=Github" target="_blank" rel="noopener" aria-label="GitHub">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
      </a>
      <a href="https://x.com/joshuaKnauber" class="social plausible-event-name=X" target="_blank" rel="noopener" aria-label="X">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
      </a>
    </div>
  </main>
</div>

<style>
  /* ── Base ─────────────────────────────── */
  .page {
    min-height: 100vh;
    background: #ffffff;
    font-family: 'Geist', sans-serif;
    color: #111;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* ── Hero ─────────────────────────────── */
  main {
    max-width: 620px;
    margin: 0 auto;
    padding: 100px 24px 72px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .icon {
    color: #ff7a00;
    margin-bottom: 28px;
    animation: fadeUp 0.45s cubic-bezier(0.16, 1, 0.3, 1) both;
  }

  h1 {
    font-size: 46px;
    font-weight: 500;
    letter-spacing: -0.035em;
    line-height: 1.08;
    text-align: center;
    margin: 0;
    animation: fadeUp 0.45s cubic-bezier(0.16, 1, 0.3, 1) 0.04s both;
  }

  .sub {
    font-size: 17px;
    color: #6b6b6b;
    text-align: center;
    margin: 14px 0 0;
    line-height: 1.5;
    letter-spacing: -0.005em;
    animation: fadeUp 0.45s cubic-bezier(0.16, 1, 0.3, 1) 0.08s both;
  }

  @keyframes trailFloat {
    0%, 100% {
      transform: translate(0, 0);
    }
    50% {
      transform: translate(var(--tx), var(--ty));
    }
  }

  .trail {
    animation: trailFloat var(--dur) ease-in-out infinite;
  }

  .t1 { --tx: 14px; --ty: -14px; --dur: 2.6s; animation-delay: 0s; }
  .t2 { --tx: 11px; --ty: -11px; --dur: 3.2s; animation-delay: 0.4s; }
  .t3 { --tx: 9px;  --ty: -9px;  --dur: 2s;   animation-delay: 0.2s; }
  .t4 { --tx: 18px; --ty: -18px; --dur: 3.6s; animation-delay: 0.7s; }

  @media (prefers-reduced-motion: reduce) {
    .trail { animation: none; }
  }

  @keyframes fadeUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* ── Code Block ──────────────────────── */
  .codeblock {
    width: 100%;
    margin-top: 52px;
    border: 1px solid #e5e5e5;
    border-radius: 12px;
    overflow: hidden;
    animation: fadeUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) 0.16s both;
  }

  .cb-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 8px 0 4px;
    background: #fff;
    border-bottom: 1px solid #eeeeee;
  }

  .cb-tabs {
    display: flex;
  }

  .cb-tab {
    font-family: 'Geist', sans-serif;
    font-size: 13px;
    font-weight: 500;
    padding: 12px 14px;
    border: none;
    background: none;
    color: #bbb;
    cursor: pointer;
    border-bottom: 2px solid transparent;
    margin-bottom: -1px;
    transition: color 0.15s;
    letter-spacing: -0.005em;
  }

  .cb-tab.active {
    color: #111;
    border-bottom-color: #ff7a00;
  }

  .cb-tab:not(.active):hover {
    color: #888;
  }

  .cb-copy {
    font-family: 'Geist Mono', monospace;
    font-size: 11.5px;
    font-weight: 500;
    padding: 4px 10px;
    border: 1px solid #e8e8e8;
    background: #fafafa;
    color: #999;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.15s;
    letter-spacing: 0.01em;
  }

  .cb-copy:hover {
    border-color: #ccc;
    color: #555;
    background: #f5f5f5;
  }

  .cb-copy .copy-done {
    display: none;
  }

  .cb-copy.copied .copy-default {
    display: none;
  }

  .cb-copy.copied .copy-done {
    display: inline;
    color: #ff7a00;
  }

  .cb-body {
    padding: 20px 22px;
    background: #f8f8f8;
  }

  .panel {
    display: none;
  }

  .panel.active {
    display: block;
    animation: panelIn 0.15s ease;
  }

  @keyframes panelIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .cb-body pre {
    margin: 0;
    font-family: 'Geist Mono', monospace;
    font-size: 13px;
    line-height: 1.7;
    color: #444;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Syntax colors */
  .cb-body :global(.kw) { color: #7c5ac2; }
  .cb-body :global(.str) { color: #c56e00; }
  .cb-body :global(.dim) { color: #b0b0b0; }

  /* ── Steps ───────────────────────────── */
  .steps {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    margin-top: 52px;
    animation: fadeUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) 0.24s both;
  }

  .step {
    display: flex;
    align-items: center;
    gap: 9px;
  }

  .num {
    font-family: 'Geist Mono', monospace;
    font-size: 11px;
    font-weight: 600;
    color: #ff7a00;
    width: 22px;
    height: 22px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1.5px solid #ffd9b3;
    border-radius: 6px;
    background: #fff7ee;
  }

  .txt {
    font-size: 13.5px;
    color: #777;
    letter-spacing: -0.01em;
  }

  .arrow {
    color: #ddd;
    font-size: 13px;
  }

  /* ── Social Links ─────────────────────── */
  .links {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-top: 40px;
    animation: fadeUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) 0.32s both;
  }

  .social {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 34px;
    height: 34px;
    border-radius: 8px;
    color: #bbb;
    transition: color 0.15s, background 0.15s;
  }

  .social:hover {
    color: #555;
    background: #f3f3f3;
  }

  /* ── Responsive ──────────────────────── */
  @media (max-width: 640px) {
    main {
      padding: 64px 20px 56px;
    }

    h1 {
      font-size: 34px;
    }

    .sub {
      font-size: 15.5px;
    }

    .codeblock {
      margin-top: 40px;
    }

    .cb-body {
      padding: 16px 18px;
    }

    .cb-body pre {
      font-size: 12px;
    }

    .steps {
      flex-direction: column;
      gap: 10px;
      margin-top: 40px;
    }

    .arrow {
      transform: rotate(90deg);
    }
  }
</style>

<script>
  const tabs = document.querySelectorAll<HTMLButtonElement>('.cb-tab');
  const panels = document.querySelectorAll<HTMLElement>('.panel');
  const copyBtn = document.querySelector<HTMLButtonElement>('.cb-copy');

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      const target = tab.dataset.tab;

      tabs.forEach(t => {
        t.classList.remove('active');
        t.setAttribute('aria-selected', 'false');
      });
      tab.classList.add('active');
      tab.setAttribute('aria-selected', 'true');

      panels.forEach(p => p.classList.remove('active'));
      document.getElementById(`panel-${target}`)?.classList.add('active');
    });
  });

  const copyTexts: Record<string, string> = {
    claude: `Add flare-dev as a dev dependency and set up the Vite plugin from flare-dev/vite.`,
    script: `<!-- Add to your HTML -->
<script src="https://unpkg.com/flare-dev/dist/flare.js"><\/script>`,
  };

  copyBtn?.addEventListener('click', () => {
    const activeTab = document.querySelector<HTMLButtonElement>('.cb-tab.active');
    const key = activeTab?.dataset.tab;
    if (!key || !copyTexts[key]) return;

    navigator.clipboard.writeText(copyTexts[key]);
    copyBtn.classList.add('copied');
    setTimeout(() => copyBtn.classList.remove('copied'), 1800);
  });
</script>
